<!DOCTYPE html>

<html>
  <head>
    <title>Page Monitor Test: Pop-up</title>
    <script src="../lib/jquery-1.4.1.js"></script>
    <script type="text/javascript" src="lib/qunit.js"></script>
    <script type="text/javascript" src="../scripts/base.js"></script>
    <script type="text/javascript" src="../scripts/popup.js"></script>
    <script type="text/javascript" src="popup.js"></script>
    <link rel="stylesheet" href="lib/qunit.css" type="text/css" />
  </head>
  <body>
    <h1 id="qunit-header">Page Monitor Test: Pop-up</h1>
    <h2 id="qunit-banner"></h2>
    <h2 id="qunit-userAgent"></h2>
    <ol id="qunit-tests"></ol>
    <div style="display: none;">

      <table id="getNotificationUrl_test">
        <tr id="getNotificationUrl_test_row1" class="notification">
          <td><a class="page_link" href="http://example.com/test1">Test</a></td>
        </tr>
        <tr id="getNotificationUrl_test_row2" class="notification">
          <td>
            <div>
              <a class="page_link" href="http://example.com/test2">Test</a>
            </div>
          </td>
        </tr>
      </table>

      <div id="monitor_page"></div>

      <table id="templates">
        <tr class="notification">
          <td>
            <div class="page_info">
              <img class="favicon" src="chrome://favicon" alt="Favicon" />
              <a class="page_link" href="#">Page</a>
            </div>
            <div class="page_controls">
              <span class="stop_monitoring">
                <img src="img/stop_monitoring.png" alt="Stop Monitoring" />
                <span class="i18n" title="stop_monitoring"></span>
              </span>
              <span class="mark_visited">
                <img src="img/mark_visited.png" alt="Mark Visited" />
                <span class="i18n" title="mark_visited"></span>
              </span>
              <span class="view_diff">
                <img src="img/diff.png" alt="View Diff" />
                <span class="i18n" title="view_diff"></span>
              </span>
            </div>
          </td>
        </tr>
        <tr class="empty">
          <td>
            <span class="i18n" title="no_changes"></span>
          </td>
        </tr>
        <tr class="loading_spacer">
          <td>
            &nbsp;
          </td>
        </tr>
      </table>

      <table id="notifications" class="main_table"></table>
      <table id="notifications_expected">
        <tr class="notification">
          <td>
            <div class="page_info">
              <img class="favicon" src="test_u1" alt="Favicon">
              <a class="page_link" href="u1">n1</a>
            </div>
            <div class="page_controls">
              <span class="stop_monitoring">
                <img src="img/stop_monitoring.png" alt="Stop Monitoring">
                <span class="i18n" title="stop_monitoring"></span>
              </span>
              <span class="mark_visited">
                <img src="img/mark_visited.png" alt="Mark Visited">
                <span class="i18n" title="mark_visited"></span>
              </span>
              <span class="view_diff" href="diff.htm#dTE=">
                <img src="img/diff.png" alt="View Diff">
                <span class="i18n" title="view_diff"></span>
              </span>
            </div>
          </td>
        </tr><tr class="notification">
          <td>
            <div class="page_info">
              <img class="favicon" src="test_u2" alt="Favicon">
              <a class="page_link" href="u2">n2</a>
            </div>
            <div class="page_controls">
              <span class="stop_monitoring">
                <img src="img/stop_monitoring.png" alt="Stop Monitoring">
                <span class="i18n" title="stop_monitoring"></span>
              </span>
              <span class="mark_visited">
                <img src="img/mark_visited.png" alt="Mark Visited">
                <span class="i18n" title="mark_visited"></span>
              </span>
              <span class="view_diff" href="diff.htm#dTI=">
                <img src="img/diff.png" alt="View Diff">
                <span class="i18n" title="view_diff"></span>
              </span>
            </div>
          </td>
        </tr>
      </table>

      <p class="main_controls">
        <span id="view_all">
          <img src="img/view_all.png" alt="View All" />
          <span class="i18n" title="view_all"></span>
        </span>
        <span id="check_now">
          <img src="img/refresh.png" alt="Refresh" />
          <span class="i18n" title="check_all"></span>
        </span>
        <span id="monitor_page">
          <img src="img/monitor.png" alt="Monitor" />
          <span class="i18n" title="monitor"></span>
        </span>
      </p>

      <div id="check_all_test"></div>
    </div>
  </body>
</html>